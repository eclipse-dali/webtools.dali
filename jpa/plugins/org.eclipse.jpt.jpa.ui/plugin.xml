<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<!--
  Copyright (c) 2007, 2016 Oracle. All rights reserved.
  This program and the accompanying materials are made available under the
  terms of the Eclipse Public License v1.0, which accompanies this distribution
  and is available at http://www.eclipse.org/legal/epl-v10.html.

  Contributors:
    Oracle - initial API and implementation
 -->

<plugin>
	
	<!-- ***** extension points ***** -->

	<extension-point
		id="jpaPlatformUis"
		name="%JPA_PLATFORM_UI"
		schema="schema/jpaPlatformUis.exsd"/>


	<!-- ***** expression definitions ***** -->

	<extension
		point="org.eclipse.core.expressions.definitions">

		<!-- Return whether our current context is within the JPA Structure View. -->
		<definition id="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive">
			<with variable="activePartId">
				<equals value="org.eclipse.jpt.ui.jpaStructureView"/>
			</with>
		</definition>

		<!-- Return whether our current context is within the JPA Perspective. -->
		<definition id="org.eclipse.jpt.jpa.ui.expression.jpaPerspectiveIsActive">
			<with variable="activeWorkbenchWindow.activePerspective">
				<equals value="org.eclipse.jpt.ui.jpaPerspective"/>
			</with>
		</definition>

	</extension>


	<!-- ***** adapters ***** -->

	<extension
		point="org.eclipse.core.runtime.adapters">

		<!-- JpaPlatform -> JpaPlatformUi -->
		<factory
			adaptableType="org.eclipse.jpt.jpa.core.JpaPlatform"
			class="org.eclipse.jpt.jpa.ui.internal.JpaPlatformAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.JpaPlatformUi"/>
		</factory>

		<!-- IWorkspace -> JpaProjectsModel -->
		<factory
			adaptableType="org.eclipse.core.resources.IWorkspace"
			class="org.eclipse.jpt.jpa.ui.internal.WorkspaceAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.JpaProjectsModel"/>
		</factory>

		<!-- IProject -> JpaProjectModel -->
		<factory
			adaptableType="org.eclipse.core.resources.IProject"
			class="org.eclipse.jpt.jpa.ui.internal.ProjectAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.JpaProjectModel"/>
		</factory>

		<!-- IFile -> JpaFileModel -->
		<factory
			adaptableType="org.eclipse.core.resources.IFile"
			class="org.eclipse.jpt.jpa.ui.internal.FileAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.JpaFileModel"/>
		</factory>

		<!-- JpaStructureNode -> JpaDetailsPageManager.Factory -->
		<factory
			adaptableType="org.eclipse.jpt.jpa.core.JpaStructureNode"
			class="org.eclipse.jpt.jpa.ui.internal.JpaStructureNodeAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.details.JpaDetailsPageManager$Factory"/>
		</factory>

		<!-- IWorkbench -> JpaSelectionManager -->
		<factory
			adaptableType="org.eclipse.ui.IWorkbench"
			class="org.eclipse.jpt.jpa.ui.internal.selection.WorkbenchAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.selection.JpaSelectionManager"/>
		</factory>

		<!-- IWorkbench -> JpaWorkbench -->
		<factory
			adaptableType="org.eclipse.ui.IWorkbench"
			class="org.eclipse.jpt.jpa.ui.internal.WorkbenchAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.JpaWorkbench"/>
		</factory>

		<!-- IWorkbenchWindow -> JpaSelectionManager -->
		<factory
			adaptableType="org.eclipse.ui.IWorkbenchWindow"
			class="org.eclipse.jpt.jpa.ui.internal.selection.WorkbenchWindowAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.selection.JpaSelectionManager"/>
		</factory>

		<!-- IWorkbenchPage -> JpaSelectionManager -->
		<factory
			adaptableType="org.eclipse.ui.IWorkbenchPage"
			class="org.eclipse.jpt.jpa.ui.internal.selection.WorkbenchPageAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.selection.JpaSelectionManager"/>
		</factory>

		<!-- ITextEditor -> JpaEditorManager -->
		<factory
			adaptableType="org.eclipse.ui.texteditor.ITextEditor"
			class="org.eclipse.jpt.jpa.ui.internal.selection.TextEditorAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.selection.JpaEditorManager"/>
		</factory>

		<!-- IViewPart -> JpaViewManager.PageManager -->
		<factory
			adaptableType="org.eclipse.ui.IViewPart"
			class="org.eclipse.jpt.jpa.ui.internal.selection.ViewPartAdapterFactory">
			<adapter type="org.eclipse.jpt.jpa.ui.selection.JpaViewManager$PageManager"/>
		</factory>

	</extension>


	<!-- ***** Java/XML completion proposal computers ***** -->

	<extension
		point="org.eclipse.jdt.ui.javaCompletionProposalComputer"
		id="jpaProposalCategory"
		name="%JpaProposalCategory">

		<proposalCategory
			icon="$nl$/images/views/jpa-perspective.gif">
			<enablement>
				<with variable="project">
					<adapt type="org.eclipse.core.resources.IProject">
						<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
					</adapt>
				</with>
			</enablement>
		</proposalCategory>
		
	</extension>

	<extension
		point="org.eclipse.jdt.ui.javaCompletionProposalComputer"
		id="JpaCompletionProposalComputer">

		<!-- activate = "true", but our plug-in will only activate if the JpaProposalCategory is enabled (has JPA facet) bug 386358 -->
		<javaCompletionProposalComputer 
			class="org.eclipse.jpt.jpa.ui.internal.JpaJavaCompletionProposalComputer"
			activate="true"
			categoryId="org.eclipse.jpt.jpa.ui.jpaProposalCategory">
			<partition type="__dftl_partition_content_type"/>
			<partition type="__java_string"/>
		</javaCompletionProposalComputer>

	</extension>

	<extension
		point="org.eclipse.jdt.ui.javaCompletionProposalComputer"
		id="JpaJpqlCompletionProposalComputer">

		<!-- activate = "true", but our plug-in will only activate if the JpaProposalCategory is enabled (has JPA facet) bug 386358 -->
		<javaCompletionProposalComputer
			class="org.eclipse.jpt.jpa.ui.internal.jpql.JpaJpqlJavaCompletionProposalComputer"
			activate="true"
			categoryId="org.eclipse.jpt.jpa.ui.jpaProposalCategory">
			<partition type="__dftl_partition_content_type"/>
			<partition type="__java_string"/>
		</javaCompletionProposalComputer>
		
	</extension>

	<extension
		point="org.eclipse.wst.sse.ui.completionProposal"
		id="org.eclipse.jpt.jpa.ui.xml.jpaCompletionProposal">

		<proposalCategory 
			icon="$nl$/images/views/jpa-perspective.gif"
			id="org.eclipse.jpt.jpa.ui.xml.jpaProposalCategory"
			name="%JpaProposalCategory">
		</proposalCategory>

		<!-- activate = "false" to temporarily fix bug 386393 -->
		<proposalComputer
			activate="false"
			categoryId="org.eclipse.jpt.jpa.ui.xml.jpaProposalCategory"
			class="org.eclipse.jpt.jpa.ui.internal.jpql.JpaJpqlSseCompletionProposalComputer"
			id="org.eclipse.jpt.jpa.ui.internal.jpql.JpaJpqlSseCompletionProposalComputer">
			<contentType id="org.eclipse.core.runtime.xml"/>
		</proposalComputer>

		<!-- Use xml instead of more specific mappingFile content type so JPA Proposals appears in the XML preferences -->

		<!-- activate = "false" to temporarily fix bug 386393 -->
		<proposalComputer 
			activate="false"
			categoryId="org.eclipse.jpt.jpa.ui.xml.jpaProposalCategory"
			class="org.eclipse.jpt.jpa.ui.internal.JpaXmlCompletionProposalComputer"
			id="org.eclipse.jpt.jpa.ui.internal.JpaXmlCompletionProposalComputer">
			<contentType id="org.eclipse.core.runtime.xml"/>
		</proposalComputer>

	</extension>


	<!-- ***** JPA platform UIs (eat our own dogfood) ***** -->

	<extension
		point="org.eclipse.jpt.jpa.ui.jpaPlatformUis">

		<jpaPlatformUi
			id="generic.ui"
			jpaPlatform="generic"
			factoryClass="org.eclipse.jpt.jpa.ui.internal.platform.generic.GenericJpaPlatformUiFactory"/>

		<jpaPlatformUi
			id="generic2_0.ui"
			jpaPlatform="generic2_0"
			factoryClass="org.eclipse.jpt.jpa.ui.internal.jpa2.platform.generic.GenericJpaPlatformUiFactory2_0"/>

		<jpaPlatformUi
			id="generic2_1.ui"
			jpaPlatform="generic2_1"
			factoryClass="org.eclipse.jpt.jpa.ui.internal.jpa2_1.platform.generic.GenericJpaPlatformUiFactory2_1"/>

	</extension>


	<!-- ***** action sets ***** -->

	<extension
		point="org.eclipse.ui.actionSets">

		<actionSet
			id="org.eclipse.jpt.jpa.ui.actionSet.jpaElementCreation"
			label="%JptCreationToolbar.label"
			description="%JptCreationToolbar.description">
		</actionSet>

	</extension>


	<!-- ***** commands ***** -->

	<extension
		point="org.eclipse.ui.commands">

		<command
			id="org.eclipse.jpt.jpa.ui.convertJavaProjectToJpa"
			name="%convertJavaProjectToJpaCommandName"
			categoryId="org.eclipse.ui.category.file">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.xmlFileUpgradeToLatestVersion"
			name="%upgradeToLatestVersion">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.generateDDL"
			name="%generateDDL" >
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.newEntity"
			name="%newJpaEntityWizardName">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.newMappingFile"
			name="%newJpaMappingFileWizardName">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.generateEntities"
			name="%generateEntities" >
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.makePersistent"
			name="%makePersistent" >
		</command>

		<command
			id="org.eclipse.jpt.jpa.core.synchronizeClasses"
			name="%synchronizeClasses" >
		</command>

		<category
			id="org.eclipse.jpt.jpa.ui.jpaStructureViewCommands"
			name="%jpaStructureViewCommandCategory">
		</category>

		<command
			id="org.eclipse.jpt.jpa.ui.entityMappingsAddPersistentClass"
			name="%addPersistentClass"
			categoryId="org.eclipse.jpt.jpa.ui.jpaStructureViewCommands">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.persistentAttributeAddToXml"
			name="%addPersistentAttributeToXml"
			categoryId="org.eclipse.jpt.jpa.ui.jpaStructureViewCommands">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.persistentAttributeAddToXmlAndMap"
			name="%addPersistentAttributeToXmlAndMap"
			categoryId="org.eclipse.jpt.jpa.ui.jpaStructureViewCommands">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.persistentTypeMapAs"
			name="%mapAs"
			categoryId="org.eclipse.jpt.jpa.ui.jpaStructureViewCommands">
			<commandParameter
				id="persistentTypeMappingKey"
				name="%mapAsParameterName"
				optional="false">
			</commandParameter>
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.persistentAttributeMapAs"
			name="%mapAs"
			categoryId="org.eclipse.jpt.jpa.ui.jpaStructureViewCommands">
			<commandParameter
				id="specifiedPersistentAttributeMappingKey"
				name="%mapAsSpecifiedMappingParameterName"
				optional="false">
			</commandParameter>
			<commandParameter
				id="defaultPersistentAttributeMappingKey"
				name="%mapAsDefaultMappingParameterName"
				optional="false">
			</commandParameter>
		</command>

		<category
			id="org.eclipse.jpt.jpa.ui.jpaMetadataConversionCommands"
			name="%jpaMetadataConversionCommandCategory">
		</category>

		<command
			id="org.eclipse.jpt.jpa.ui.convertJavaGenerators"
			name="%moveJavaGeneratorsToXML"
			categoryId="org.eclipse.jpt.jpa.ui.jpaMetadataConversionCommands">
		</command>

		<command
			id="org.eclipse.jpt.jpa.ui.convertJavaQueries"
			name="%moveJavaQueriesToXML"
			categoryId="org.eclipse.jpt.jpa.ui.jpaMetadataConversionCommands">
		</command>

  <command
        id="org.eclipse.jpt.jpa.ui.addToPersistenceUnit"
        name="%addToPersistenceUnit">
  </command>

	</extension>


	<!-- ***** persistence.xml editor ***** -->

	<extension 
		point="org.eclipse.ui.editors">

		<editor
			class="org.eclipse.jpt.jpa.ui.internal.editors.JpaXmlEditor"
			contributorClass="org.eclipse.jpt.jpa.ui.internal.editors.JpaXmlEditorContributor"
			icon="$nl$/images/objects/jpa-file.gif"
			id="org.eclipse.jpt.jpa.ui.internal.editors.PersistenceEditor"
			name="%persistenceEditor">
			<contentTypeBinding contentTypeId="org.eclipse.jpt.jpa.core.content.persistence"/>
		</editor>

	</extension>


	<!-- ***** handlers ***** -->

	<extension
		point="org.eclipse.ui.handlers">

		<handler
			commandId="org.eclipse.jpt.jpa.ui.convertJavaProjectToJpa"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.ConvertJavaProjectToJpaCommandHandler">
			<activeWhen>
				<with variable="selection">
					<count value="1"/>
					<iterate>
						<adapt type="org.eclipse.core.resources.IProject">
							<and>
								<test property="org.eclipse.core.resources.projectNature"
									value="org.eclipse.jdt.core.javanature"/>
								<not><reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/></not>
							</and>
						</adapt>
					</iterate>
				</with>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.xmlFileUpgradeToLatestVersion"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.UpgradeXmlFileVersionHandler">
			<activeWhen>
				<iterate ifEmpty="false">
					<adapt type="org.eclipse.jpt.jpa.core.context.XmlFile">
						<test property="org.eclipse.jpt.jpa.core.isNotLatestSupportedVersion"/>
					</adapt>
				</iterate>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.xmlFileUpgradeToLatestVersion"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.UpgradeXmlResourceVersionHandler">
			<activeWhen>
				<iterate ifEmpty="false">
					<adapt type="org.eclipse.jpt.common.core.resource.xml.JptXmlResource">
						<test property="org.eclipse.jpt.jpa.core.isNotLatestSupportedVersion"/>
					</adapt>
				</iterate>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.newEntity"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.NewEntityHandler">
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.newMappingFile"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.NewMappingFileHandler">
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.generateDDL"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.GenerateDDLHandler">
			<activeWhen>
				<with variable="selection">
					<count value="1"/>
					<iterate>
						<adapt type="org.eclipse.core.resources.IProject">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</iterate>
				</with>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.generateEntities"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.GenerateEntitiesHandler">
			<activeWhen>
				<with variable="selection">
					<count value="1"/>
					<iterate>
						<adapt type="org.eclipse.core.resources.IProject">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</iterate>
				</with>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.makePersistent"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.MakePersistentHandler">
			<enabledWhen>
				<with variable="selection">
					<count value="+"/>
					<iterate>
						<and>
							<adapt type="org.eclipse.jdt.core.IJavaElement" />
							<or>
								<instanceof value="org.eclipse.jdt.core.ICompilationUnit"/>
								<instanceof value="org.eclipse.jdt.core.IType"/>
								<instanceof value="org.eclipse.jdt.core.IPackageFragment"/>
								<instanceof value="org.eclipse.jdt.core.IPackageFragmentRoot"/>
							</or>
						</and>
					</iterate>
				</with>
			</enabledWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.core.synchronizeClasses"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.SynchronizeClassesHandler">
			<activeWhen>
				<with variable="selection">
					<count value="1"/>
					<iterate>
						<or>
							<adapt type="org.eclipse.jpt.jpa.core.context.persistence.PersistenceXml" />
							<adapt type="org.eclipse.core.resources.IFile">
								<test property="org.eclipse.core.resources.name"
									value="persistence.xml">
								</test>
							</adapt>
						</or>
					</iterate>
				</with>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.entityMappingsAddPersistentClass"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.AddPersistentClassHandler">
			<activeWhen>
				<and>			
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<count value="1"/>
					<iterate>
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.EntityMappings"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.ui.edit.delete"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.RemovePersistentClassHandler">
			<activeWhen>
				<and>			
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentType"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.ui.edit.delete"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.RemovePersistentAttributeFromXmlHandler">
			<activeWhen>
				<and>
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isNotVirtual"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.persistentAttributeAddToXml"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.AddPersistentAttributeToXmlHandler">
			<activeWhen>
				<and>
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isVirtual"/>
						<test property="org.eclipse.jpt.jpa.core.isMapped"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.persistentAttributeAddToXmlAndMap"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.AddPersistentAttributeToXmlAndMapHandler">
			<activeWhen>
				<and>
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isVirtual"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.persistentTypeMapAs"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.PersistentTypeMapAsHandler">
			<activeWhen>
				<and>
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.PersistentType"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.persistentAttributeMapAs"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.PersistentAttributeMapAsHandler">
			<activeWhen>
				<and>
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaStructureViewIsActive"/>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.PersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isNotVirtual"/>
					</iterate>
				</and>
			</activeWhen>
		</handler>

		<handler
			class="org.eclipse.jpt.jpa.ui.internal.handlers.JavaGeneratorConversionHandler"
			commandId="org.eclipse.jpt.jpa.ui.convertJavaGenerators">
			<activeWhen>
				<with variable="selection">
					<count value="1"/>
					<iterate>
						<adapt type="org.eclipse.core.resources.IProject">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</iterate>
				</with>
			</activeWhen>
 		</handler>

		<handler
			class="org.eclipse.jpt.jpa.ui.internal.handlers.JavaQueryConversionHandler"
			commandId="org.eclipse.jpt.jpa.ui.convertJavaQueries">
			<activeWhen>
				<with variable="selection">
					<count value="1"/>
					<iterate>
						<adapt type="org.eclipse.core.resources.IProject">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</iterate>
				</with>
			</activeWhen>
		</handler>

		<handler
			commandId="org.eclipse.jpt.jpa.ui.addToPersistenceUnit"
			class="org.eclipse.jpt.jpa.ui.internal.handlers.AddToPersistenceUnitHandler">
			<enabledWhen>
				<with variable="selection">
					<count value="+"/>
					<iterate>
						<and>
							<adapt type="org.eclipse.jdt.core.IJavaElement" />
							<or>
								<instanceof value="org.eclipse.jdt.core.ICompilationUnit"/>
								<instanceof value="org.eclipse.jdt.core.IType"/>
								<instanceof value="org.eclipse.jdt.core.IPackageFragment"/>
								<instanceof value="org.eclipse.jdt.core.IPackageFragmentRoot"/>
							</or>
						</and>
					</iterate>
				</with>
			</enabledWhen>
		</handler>
		
	</extension>


	<!-- ***** menus ***** -->

	<extension
		point="org.eclipse.ui.menus">

		<!-- contributions for toolbar -->

		<menuContribution
			locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">

			<toolbar 
				id="org.eclipse.jpt.jpa.ui.jptCreation.toolbar"
				label="%JptCreationToolbar.label">

				<command
					commandId="org.eclipse.jpt.jpa.ui.newEntity"
					id="org.eclipse.jpt.jpa.ui.jptCreation.pulldown"
					label="%newJpaEntityWizardName"
					icon="$nl$/images/buttons/new-entity.gif"
					disabledIcon="$nl$/images/buttons/new-entity-disabled.gif"
					style="pulldown">
					<visibleWhen>
						<or>
							<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaPerspectiveIsActive"/>
							<with variable="activeContexts">
								<iterate operator="or">
									<equals value="org.eclipse.jpt.jpa.ui.actionSet.jpaElementCreation"/>
								</iterate>
							</with>
						</or>
					</visibleWhen>
				</command>

				<!-- visibleWhen not working in this case, dependent on bug 201589
				<visibleWhen>
					<reference definitionId="org.eclipse.jpt.jpa.ui.expression.jpaPerspectiveIsActive"/>
				</visibleWhen>
				-->

			</toolbar>

		</menuContribution>

		<menuContribution 
			locationURI="menu:org.eclipse.jpt.jpa.ui.jptCreation.pulldown">

			<command
				commandId="org.eclipse.jpt.jpa.ui.newEntity"
				label="%newJpaEntityWizardName"
				icon="$nl$/images/buttons/new-entity.gif"
				disabledIcon="$nl$/images/buttons/new-entity-disabled.gif"
				style="push">
			</command>

			<command 
				commandId="org.eclipse.jpt.jpa.ui.newMappingFile"
				label="%newJpaMappingFileWizardName"
				icon="$nl$/images/buttons/new-jpa-file.gif"
				disabledIcon="$nl$/images/buttons/new-jpa-file.gif"
				style="push">
			</command>

			<separator name="jptCreation.separator"
				visible="false"/>

		</menuContribution>

		<!-- contributions for any popup -->
		<menuContribution
			locationURI="popup:org.eclipse.ui.popup.any">

			<!-- "JPA Tools" submenu for 
				- anything that adapts to JpaXmlResource (IFile objects, mostly)
				- anything that adapts to IProject and has a JPA facet
			-->
			<menu
				id="org.eclipse.jpt.jpa.ui.menu.JpaTools"
				label="%jpaMenuName">
				<visibleWhen>
					<iterate ifEmpty="false">
						<or>
							<adapt type="org.eclipse.jpt.common.core.resource.xml.JptXmlResource"/>
							<adapt type="org.eclipse.core.resources.IProject">
								<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
							</adapt>
							<and>
								<adapt type="org.eclipse.core.resources.IResource">
									<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
								</adapt>
								<adapt type="org.eclipse.jdt.core.IJavaElement"/>
							</and>
						</or>
					</iterate>
				</visibleWhen>
			</menu>

			<!-- commands for objects that don't need "JPA Tools" submenu -->
			<command
				commandId="org.eclipse.jpt.jpa.ui.xmlFileUpgradeToLatestVersion">
				<visibleWhen>
					<iterate ifEmpty="false">
						<adapt type="org.eclipse.jpt.jpa.core.context.XmlFile">
							<test property="org.eclipse.jpt.jpa.core.isNotLatestSupportedVersion"/>
						</adapt>
					</iterate>
				</visibleWhen>
			</command>	

			<command
				commandId="org.eclipse.jpt.jpa.core.synchronizeClasses">
				<visibleWhen>
					<iterate ifEmpty="false">
						<adapt type="org.eclipse.jpt.jpa.core.context.persistence.PersistenceXml" />
					</iterate>
				</visibleWhen>
			</command>

		</menuContribution>

		<!-- contributions to the "JPA Tools" submenu -->

		<menuContribution
			locationURI="popup:org.eclipse.jpt.jpa.ui.menu.JpaTools">

			<command
				commandId="org.eclipse.jpt.jpa.ui.xmlFileUpgradeToLatestVersion">
				<visibleWhen>
					<iterate ifEmpty="false">
						<adapt type="org.eclipse.jpt.common.core.resource.xml.JptXmlResource">
							<test property="org.eclipse.jpt.jpa.core.isNotLatestSupportedVersion"/>
						</adapt>
					</iterate>
				</visibleWhen>
			</command>

			<!-- "Move to XML" submenu -->
			<menu
				id="org.eclipse.jpt.jpa.ui.menu.moveToXml"
				label="%moveToXml">
				<visibleWhen>
					<with variable="selection">
						<count value="1"/>
						<iterate>
							<adapt type="org.eclipse.core.resources.IProject">
								<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
							</adapt>
						</iterate>
					</with>
				</visibleWhen>

				<!-- contributions to "Move to XML" submenu -->
				<command
					commandId="org.eclipse.jpt.jpa.ui.convertJavaQueries"
					label="%convertJavaQueries">
				</command>
				
				<command
					commandId="org.eclipse.jpt.jpa.ui.convertJavaGenerators"
					label="%convertJavaGenerators">
				</command>

			</menu>

		</menuContribution>

		<menuContribution locationURI="popup:org.eclipse.jpt.jpa.ui.menu.JpaTools">
			<command commandId="org.eclipse.jpt.jpa.ui.generateDDL">
				<visibleWhen checkEnabled="true"/>
			</command>
		</menuContribution>

		<menuContribution locationURI="popup:org.eclipse.jpt.jpa.ui.menu.JpaTools">
			<command commandId="org.eclipse.jpt.jpa.ui.generateEntities">
				<visibleWhen checkEnabled="true"/>
			</command>
			<separator name="generate"/>
		</menuContribution>

		<menuContribution locationURI="popup:org.eclipse.jpt.jpa.ui.menu.JpaTools">
			<command commandId="org.eclipse.jpt.jpa.ui.makePersistent">
				<visibleWhen checkEnabled="true"/>
			</command>
		</menuContribution>

		<menuContribution locationURI="popup:org.eclipse.jpt.jpa.ui.menu.JpaTools">
			<command commandId="org.eclipse.jpt.jpa.core.synchronizeClasses">
				<visibleWhen checkEnabled="true"/>
			</command>
		</menuContribution>
		
		<menuContribution locationURI="popup:org.eclipse.jpt.jpa.ui.menu.JpaTools">
			<command commandId="org.eclipse.jpt.jpa.ui.addToPersistenceUnit">
				<visibleWhen checkEnabled="true"/>
			</command>
		</menuContribution>

		<!-- contributions to the project configure menu -->
		<menuContribution locationURI="popup:org.eclipse.ui.projectConfigure?after=additions">
			<command commandId="org.eclipse.jpt.jpa.ui.convertJavaProjectToJpa">
				<visibleWhen checkEnabled="true"/>
			</command>
		</menuContribution>

		<!-- contributions to objects in the JPA structure view -->
		<menuContribution
			locationURI="popup:org.eclipse.jpt.ui.jpaStructureView">

			<command
				commandId="org.eclipse.jpt.jpa.ui.entityMappingsAddPersistentClass">
				<visibleWhen checkEnabled="true"/>
			</command>
			<command
				commandId="org.eclipse.ui.edit.delete"
				label="%removePersistentClass">
				<visibleWhen>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentType"/>
					</iterate>
				</visibleWhen>
			</command>
			<command
				commandId="org.eclipse.jpt.jpa.ui.persistentAttributeAddToXml">
				<visibleWhen>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isVirtual"/>
					</iterate>
				</visibleWhen>
			</command>
			<command
				commandId="org.eclipse.jpt.jpa.ui.persistentAttributeAddToXmlAndMap">
				<visibleWhen>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isVirtual"/>
					</iterate>
				</visibleWhen>
			</command>
			<command
				commandId="org.eclipse.ui.edit.delete"
				label="%removePersistentAttributeFromXml">
				<visibleWhen>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.orm.OrmPersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isNotVirtual"/>
					</iterate>
				</visibleWhen>
			</command>

			<menu
				id="org.eclipse.jpt.jpa.ui.persistentTypeMapAs"
				label="%mapAs"
				mnemonic="%mapAsMnemonic"
				icon="$nl$/images/views/jpa-perspective.gif">
				<visibleWhen>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.PersistentType"/>
					</iterate>
				</visibleWhen>
				<dynamic
					id="org.eclipse.jpt.jpa.ui.persistentTypeMapAs"
					class="org.eclipse.jpt.jpa.ui.internal.menus.PersistentTypeMapAsContribution">
				</dynamic>
			</menu>

			<menu
				id="org.eclipse.jpt.jpa.ui.persistentAttributeMapAs"
				label="%mapAs"
				mnemonic="%mapAsMnemonic"
				icon="$nl$/images/views/jpa-perspective.gif">
				<visibleWhen>
					<iterate ifEmpty="false">
						<instanceof value="org.eclipse.jpt.jpa.core.context.PersistentAttribute"/>
						<test property="org.eclipse.jpt.jpa.core.isNotVirtual"/>
					</iterate>
				</visibleWhen>
				<dynamic
					id="org.eclipse.jpt.jpa.ui.persistentAttributeMapAs"
					class="org.eclipse.jpt.jpa.ui.internal.menus.PersistentAttributeMapAsContribution">
				</dynamic>
			</menu>

		</menuContribution>

	</extension>


	<!-- ***** Project Explorer contribution ***** -->

	<extension
		point="org.eclipse.ui.navigator.viewer">

		<viewerContentBinding
			viewerId="org.eclipse.ui.navigator.ProjectExplorer">
			<includes>
				<contentExtension pattern="org.eclipse.jpt.jpa.ui.*"/>
			</includes>
		</viewerContentBinding>

	</extension>


	<!-- ***** navigator content ***** -->

	<extension
		point="org.eclipse.ui.navigator.navigatorContent">

		<navigatorContent
			id="org.eclipse.jpt.jpa.ui.jpaNavigatorContent"
			name="%jpaNavigatorContent" 
			priority="higher"
			appearsBefore="org.eclipse.jst.servlet.ui.EnhancedJavaRendering"
			icon="$nl$/images/objects/jpa-content.gif"
			activeByDefault="true"
			contentProvider="org.eclipse.jpt.jpa.ui.internal.navigator.JpaNavigatorContentProvider"
			labelProvider="org.eclipse.jpt.common.ui.internal.navigator.NavigatorLabelProvider">

			<triggerPoints>
				<or>
					<instanceof value="org.eclipse.jpt.jpa.core.context.JpaContextModel"/>
					<and>
						<instanceof value="org.eclipse.core.resources.IProject"/>
						<adapt type="org.eclipse.core.resources.IResource"> 
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</and>
				</or>
			</triggerPoints>

			<possibleChildren>
				<instanceof value="org.eclipse.jpt.jpa.core.context.JpaContextModel"/>
			</possibleChildren>

			<actionProvider
				class="org.eclipse.jpt.jpa.ui.internal.navigator.OpenJpaResourceActionProvider"
				id="org.eclipse.jpt.jpa.ui.OpenJpaResourceActionProvider">
				<enablement>
					<instanceof value="org.eclipse.jpt.jpa.core.context.JpaContextModel"/>
				</enablement>
			</actionProvider>

			<actionProvider
				class="org.eclipse.ui.navigator.resources.GoIntoActionProvider"
				id="org.eclipse.jpt.jpa.ui.GoIntoActionProvider">
				<enablement>
					<and>
						<instanceof value="org.eclipse.jpt.jpa.core.context.JpaContextModel"/>
						<not><instanceof value="org.eclipse.jpt.jpa.core.context.PersistentAttribute"/></not>
						<not><instanceof value="org.eclipse.jpt.jpa.core.jpa2_1.context.ConverterType2_1"/></not>
					</and>
				</enablement>
			</actionProvider>

			<commonWizard
				menuGroupId="org.eclipse.jpt.jpa.ui"
				type="new"
				wizardId="org.eclipse.jpt.jpa.ui.wizard.newEntity">
				<enablement>
					<and>
						<or>
							<instanceof value="org.eclipse.core.resources.IProject"/>
							<instanceof value="org.eclipse.jdt.core.IPackageFragment"/>
							<instanceof value="org.eclipse.jdt.core.IPackageFragmentRoot"/>
						</or>
						<adapt type="org.eclipse.core.resources.IResource">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</and>
				</enablement>
			</commonWizard>

			<commonWizard
				menuGroupId="org.eclipse.jpt.jpa.ui"
				type="new"
				wizardId="org.eclipse.jpt.jpa.ui.wizard.newMappingFile">
				<enablement>
					<and>
						<or>
							<instanceof value="org.eclipse.core.resources.IProject"/>
							<instanceof value="org.eclipse.core.resources.IFolder"/>
							<instanceof value="org.eclipse.jdt.core.IPackageFragmentRoot"/>
							<instanceof value="org.eclipse.jdt.core.IPackageFragment"/>
						</or>
						<adapt type="org.eclipse.core.resources.IResource">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</and>
				</enablement>
			</commonWizard>

			<commonWizard
				menuGroupId="org.eclipse.jpt.jpa.ui"
				type="new"
				wizardId="org.eclipse.jpt.jpa.ui.wizard.newEntitiesFromTables">
				<enablement>
					<and>
						<or>
							<instanceof value="org.eclipse.core.resources.IProject"/>
							<instanceof value="org.eclipse.jdt.core.IPackageFragment"/>
							<instanceof value="org.eclipse.jdt.core.IPackageFragmentRoot"/>
						</or>
						<adapt type="org.eclipse.core.resources.IResource">
							<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
						</adapt>
					</and>
				</enablement>
			</commonWizard>

		</navigatorContent>

	</extension>


	<!-- ***** "New Dialog" wizards ***** -->

	<extension
		point="org.eclipse.ui.newWizards">

		<category
			id="org.eclipse.jpt.jpa"
			name="%jpaWizardCategoryName"/>

		<wizard
			id="org.eclipse.jpt.jpa.ui.wizard.newJpaProject"
			name="%newJpaProjectWizardName"
			icon="$nl$/images/buttons/new-jpa-file.gif"
			category="org.eclipse.jpt.jpa"
			project="true"
			finalPerspective="org.eclipse.jpt.ui.jpaPerspective">
			<description>%newJpaProjectWizardDesc</description>
			<class class="org.eclipse.jpt.jpa.ui.internal.wizards.proj.JpaProjectWizard"> 
				<parameter name="menuIndex" value="35"/> 
			</class>
		</wizard>

		<wizard
			id="org.eclipse.jpt.jpa.ui.wizard.newEntity"
			name="%newJpaEntityWizardName"
			icon="$nl$/images/buttons/new-entity.gif"
			category="org.eclipse.jpt.jpa">
			<description>%newJpaEntityWizardDesc</description>
			<class class="org.eclipse.jpt.jpa.ui.internal.wizards.entity.EntityWizard"> 
				<parameter name="javaeeartifact" value="true"/> 
				<parameter name="menuIndex" value="38" /> 
				<parameter name="jptartifact" value="true"/> 
			</class>
		</wizard>

		<wizard
			category="org.eclipse.jpt.jpa"
			class="org.eclipse.jpt.jpa.ui.internal.wizards.gen.GenerateEntitiesFromSchemaWizard"
			icon="$nl$/images/buttons/new-entity.gif"
			id="org.eclipse.jpt.jpa.ui.wizard.newEntitiesFromTables"
			name="%newJpaEntityFromTableWizardName">
			<description>%newJpaEntityFromTableWizardDesc</description>
			<selection class="org.eclipse.core.resources.IResource"/> 
		</wizard>

		<wizard
			id="org.eclipse.jpt.jpa.ui.wizard.newMappingFile"
			name="%newJpaMappingFileWizardName"
			icon="$nl$/images/buttons/new-jpa-file.gif"
			category="org.eclipse.jpt.jpa">
			<description>%newJpaMappingFileWizardDesc</description>
			<class class="org.eclipse.jpt.jpa.ui.internal.wizards.orm.MappingFileWizard"> 
				<parameter name="javaeeartifact" value="true"/> 
				<parameter name="menuIndex" value="39" /> 
				<parameter name="jptartifact" value="true"/> 
			</class>
		</wizard>

	</extension>


	<!-- ***** JPA Perspective ***** -->

	<extension
		point="org.eclipse.ui.perspectives">

		<perspective
			id="org.eclipse.jpt.ui.jpaPerspective"
			class="org.eclipse.jpt.jpa.ui.internal.perspective.JpaPerspectiveFactory"
			icon="$nl$/images/views/jpa-perspective.gif"
			name="%jpaPerspective">
			<description>%jpaPerspectiveDescription</description>
		</perspective>

	</extension>


	<extension
		point="org.eclipse.ui.perspectiveExtensions">

		<perspectiveExtension
			targetID="org.eclipse.jpt.ui.jpaPerspective">

			<newWizardShortcut id="org.eclipse.jpt.jpa.ui.wizard.newJpaProject"/>
			<newWizardShortcut id="org.eclipse.jpt.jpa.ui.wizard.newEntity"/>
			<newWizardShortcut id="org.eclipse.jpt.jpa.ui.wizard.newMappingFile"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewPackageCreationWizard"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewClassCreationWizard"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewInterfaceCreationWizard"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewEnumCreationWizard"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewAnnotationCreationWizard"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewSourceFolderCreationWizard"/>
			<newWizardShortcut id="org.eclipse.jdt.ui.wizards.NewJavaWorkingSetWizard"/>
			<newWizardShortcut id="org.eclipse.ui.wizards.new.file"/>
			<newWizardShortcut id="org.eclipse.ui.wizards.new.folder"/>
			<newWizardShortcut id="org.eclipse.ui.editors.wizards.UntitledTextFileWizard"/>

			<perspectiveShortcut id="org.eclipse.jdt.ui.JavaPerspective"/>
			<perspectiveShortcut id="org.eclipse.debug.ui.DebugPerspective"/>
			<perspectiveShortcut id="org.eclipse.jst.j2ee.J2EEPerspective"/>
			<perspectiveShortcut id="org.eclipse.jdt.ui.JavaBrowsingPerspective"/>

			<viewShortcut id="org.eclipse.jdt.ui.PackageExplorer"/>
			<viewShortcut id="org.eclipse.jdt.ui.TypeHierarchy"/>
			<viewShortcut id="org.eclipse.jdt.ui.SourceView"/>
			<viewShortcut id="org.eclipse.jdt.ui.JavadocView"/>
			<viewShortcut id="org.eclipse.ui.navigator.ProjectExplorer"/>
			<viewShortcut id="org.eclipse.ui.views.ContentOutline"/>
			<viewShortcut id="org.eclipse.ui.views.ProblemView"/>
			<viewShortcut id="org.eclipse.ui.views.ResourceNavigator"/>
			<viewShortcut id="org.eclipse.jpt.ui.jpaStructureView"/>
			<viewShortcut id="org.eclipse.jpt.ui.jpaDetailsView"/>
			<viewShortcut id="org.eclipse.datatools.connectivity.DataSourceExplorerNavigator"/>

		</perspectiveExtension>

		<perspectiveExtension
			targetID="org.eclipse.jst.j2ee.J2EEPerspective">
			<newWizardShortcut id="org.eclipse.jpt.jpa.ui.wizard.newJpaProject"/>
			<perspectiveShortcut id="org.eclipse.jpt.ui.jpaPerspective"/>
		</perspectiveExtension>

	</extension>


	<!-- ***** preferences ***** -->

	<extension
		point="org.eclipse.ui.preferencePages">

		<page
			id="org.eclipse.jpt.jpa.ui.preferences"
			name="%javaPersistenceNode"
			class="org.eclipse.jpt.jpa.ui.internal.prefs.JptPreferencesPage"/>

		<page
			id="org.eclipse.jpt.jpa.ui.jpaPreferences"
			name="%jpaNode"
			category="org.eclipse.jpt.jpa.ui.preferences"
			class="org.eclipse.jpt.jpa.ui.internal.prefs.JpaPreferencesPage"/>

		<page
			id="org.eclipse.jpt.jpa.ui.jpaProblemSeveritiesPreferences"
			name="%jpaProblemSeveritiesNode"
			category="org.eclipse.jpt.jpa.ui.jpaPreferences"
			class="org.eclipse.jpt.jpa.ui.internal.prefs.JpaProblemSeveritiesPage"/>

	</extension>


	<!-- ***** JPA project properties pages ***** -->

	<extension
		point="org.eclipse.ui.propertyPages">

		<page
			id="org.eclipse.jpt.jpa.ui.jpaProjectProperties"
			name="%jpaNode"
			class="org.eclipse.jpt.jpa.ui.internal.properties.JpaProjectPropertiesPage">
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject">
					<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
				</adapt>
			</enabledWhen>
		</page>

		<page
			id="org.eclipse.jpt.jpa.ui.jpaEntityGenProjectProperties"
			name="%jpaEntityGenNode"
			category="org.eclipse.jpt.jpa.ui.jpaProjectProperties"
			class="org.eclipse.jpt.jpa.ui.internal.prefs.JpaEntityGenPreferencePage">
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject">
					<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
				</adapt>
			</enabledWhen>
		</page>

		<page
			id="org.eclipse.jpt.jpa.ui.jpaProblemSeveritiesProperties"
			name="%jpaProblemSeveritiesNode"
			category="org.eclipse.jpt.jpa.ui.jpaProjectProperties"
			class="org.eclipse.jpt.jpa.ui.internal.prefs.JpaProblemSeveritiesPage">
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject">
					<reference definitionId="org.eclipse.jpt.jpa.expression.hasJpaFacet"/>
				</adapt>
			</enabledWhen>
		</page>

	</extension>


	<!-- ***** JPA views ***** -->

	<extension
		point="org.eclipse.ui.views">

		<category
			id="org.eclipse.jpt.jpa.ui"
			name="%jpaPerspective"/>

		<view
			id="org.eclipse.jpt.ui.jpaStructureView"
			category="org.eclipse.jpt.jpa.ui"
			class="org.eclipse.jpt.jpa.ui.internal.views.JpaStructureView"
			icon="$nl$/images/views/jpa-structure.gif"
			name="%jpaStructure"/>

		<view
			id="org.eclipse.jpt.ui.jpaDetailsView"
			category="org.eclipse.jpt.jpa.ui"
			class="org.eclipse.jpt.jpa.ui.internal.views.JpaDetailsView"
			icon="$nl$/images/views/jpa-details.gif"
			name="%jpaDetails"/>

	</extension>	


	<!-- ***** WTP facets ***** -->

	<extension
		point="org.eclipse.wst.common.project.facet.ui.images">

		<image facet="jpt.jpa" path="$nl$/images/jpa-facet.gif"/>

	</extension>


	<extension 
		point="org.eclipse.wst.common.project.facet.ui.wizardPages">

		<wizard-pages action="jpt.jpa.install">
			<page class="org.eclipse.jpt.jpa.ui.internal.wizards.JpaFacetInstallPage"/>
		</wizard-pages>

		<wizard-pages action="jpt.jpa.version-change">
			<page class="org.eclipse.jpt.jpa.ui.internal.wizards.JpaFacetVersionChangePage"/>
		</wizard-pages>

	</extension>


	<!-- ***** JPQL query editor ***** -->

	<extension
		point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectors">

		<hyperlinkDetector
			activate="true"
			class="org.eclipse.jpt.jpa.ui.internal.jpql.GenericJpaJpqlHyperlinkDetector"
			id="org.eclipse.jpt.jpa.ui.jpql.generic"
			name="%jpaJpqlHyperlinkDetector"
			targetId="org.eclipse.jpt.jpa.ui.jpql">
		</hyperlinkDetector>

	</extension>

	<extension
		point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets">

		<target
			id="org.eclipse.jpt.jpa.ui.jpql"
			name="%jpaJpqlHyperlinkTarget">
		</target>

	</extension>

</plugin>
