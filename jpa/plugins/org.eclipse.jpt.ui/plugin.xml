<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
	
	<extension-point 
		id="jpaPlatform" 
		name="%JPA_PLATFORM" 
		schema="schema/jpaPlatform.exsd"/>
	
	
	<extension
		point="org.eclipse.core.runtime.adapters">
		
		<factory
			adaptableType="org.eclipse.ui.IWorkbenchPart"
			class="org.eclipse.jpt.ui.internal.selection.SelectionParticipantFactory">
			<adapter type="org.eclipse.jpt.ui.internal.selection.ISelectionParticipant"/>
		</factory>
		
	</extension>
	
	
	<extension
		point="org.eclipse.jpt.ui.jpaPlatform">
		
		<jpaPlatform
			id="generic"
			class="org.eclipse.jpt.ui.internal.generic.GenericPlatformUi"/>
		
	</extension>
	
	
	<extension
		point="org.eclipse.ui.newWizards">
		
		<category
			id="org.eclipse.jpt"
			name="%jpaWizardCategoryName"/>
		
		<wizard
			id="org.eclipse.jpt.jpaProject"
			name="%newJpaProjectWizardName"
			icon="icons/full/etool16/new_jpaproject_wiz.gif"
			category="org.eclipse.jpt"
			class="org.eclipse.jpt.ui.internal.wizards.NewJpaProjectWizard"
			project="true"
			finalPerspective="org.eclipse.jpt.ui.jpaPerspective">
			<description>%newJpaProjectWizardDesc</description>
		</wizard>
		
	</extension>
	
	<extension
		point="org.eclipse.ui.popupMenus">
		
		<objectContribution
			id="org.eclipse.jpt.ui.project.JPATools"
			objectClass="org.eclipse.core.resources.IProject"
			adaptable="true">
			<menu
				id="org.eclipse.jpt.ui.project.JPATools"
				label="%jpaMenuName"/>

			<enablement>
					<test property="org.eclipse.wst.common.project.facet.core.projectFacet" value="jpt.jpa"/>
			</enablement>

			<action
         class="org.eclipse.jpt.ui.internal.actions.GenerateEntitiesAction"
         id="org.eclipse.jpt.ui.generateEntities"
         label="%generateEntities"
         menubarPath="org.eclipse.jpt.ui.project.JPATools/content">
			</action>
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.jpt.ui.persistenceXmlActions"
			objectClass="org.eclipse.core.resources.IFile"
			nameFilter="persistence.xml">
			<menu
				id="persistenceXmlJPATools"
				label="%jpaMenuName"/>
			<action
				id="synchClassesAction"
				label="%synchronizeClasses"
				menubarPath="persistenceXmlJPATools/content"
				class="org.eclipse.jpt.ui.internal.actions.SynchronizeClassesAction"
				enablesFor="1"/>
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.jpt.ui.entityMappingsActions"
			objectClass="org.eclipse.jpt.core.internal.content.orm.EntityMappings">
			<action
				id="org.eclipse.jpt.ui.addPersistentClass"
				class="org.eclipse.jpt.ui.internal.actions.AddPersistentClassAction"
				label="%addPersistentClass"
				menubarPath="additions"/>
		</objectContribution>
		
		<objectContribution
			id="org.eclipse.jpt.ui.xmlPersistentTypeActions"
			objectClass="org.eclipse.jpt.core.internal.content.orm.XmlPersistentType">
			<action
				id="org.eclipse.jpt.ui.removePersistentClass"
				class="org.eclipse.jpt.ui.internal.actions.RemovePersistentClassAction"
				label="%removePersistentClass"
				menubarPath="additions"/>
		</objectContribution>
				<objectContribution
			id="org.eclipse.jpt.ui.xmlStructure"
 			adaptable="false"
			objectClass="org.eclipse.jpt.core.internal.content.orm.XmlPersistentAttribute">
			<action
				id="org.eclipse.jpt.ui.addToXml"
				class="org.eclipse.jpt.ui.internal.actions.AddPersistentAttributeToXml"
				label="Add to XML"
				menubarPath="additions"/>
			<visibility>
				<objectState
					name="defaultedFromJava"
					value="true"/>
			</visibility>
		</objectContribution>
  		
		<objectContribution
			id="org.eclipse.jpt.ui.xmlStructure"
			adaptable="false"
			objectClass="org.eclipse.jpt.core.internal.content.orm.XmlPersistentAttribute">
			<action
				id="org.eclipse.jpt.ui.removeFromXml"
				class="org.eclipse.jpt.ui.internal.actions.RemovePersistentAttributeFromXml"
				label="Remove from XML"
				menubarPath="additions"/>
			<visibility>
				<objectState
					name="specifiedInXml"
					value="true"/>
			</visibility>
		</objectContribution>
	
	</extension>
	
	<extension
		point="org.eclipse.ui.preferencePages">
		
		<page
			id="org.eclipse.jpt.ui.jpaPreferencePage"
			name="%jpaPreferencePage"
			class="org.eclipse.jpt.ui.internal.prefs.JpaPreferencePage"/>
		
	</extension>
	
	<extension
		point="org.eclipse.ui.propertyPages">
		
		<page
			id="org.eclipse.jpt.ui.jpaProjectPropertiesPage"
			name="%jpaProjectPropertiesPage"
			class="org.eclipse.jpt.ui.internal.properties.JpaProjectPropertiesPage">
			<enabledWhen>
				<adapt 
					type="org.eclipse.core.resources.IProject">
					<test 
						property="org.eclipse.wst.common.project.facet.core.projectFacet"
						value="jpt.jpa"/>
				</adapt>
			</enabledWhen>
		</page>
	</extension>
		
	<extension
		point="org.eclipse.ui.views">
		
		<category
			id="org.eclipse.jpt.ui"
			name="%jpaPerspective"/>
		
		<view
	        category="org.eclipse.jpt.ui"
	        class="org.eclipse.jpt.ui.internal.views.JpaStructureView"
	        icon="icons/full/eview16/jpa_structure.gif"
	        id="org.eclipse.jpt.ui.jpaStructureView"
	        name="%jpaStructure"/>
		
		<view
	        category="org.eclipse.jpt.ui"
	        class="org.eclipse.jpt.ui.internal.views.JpaDetailsView"
	        icon="icons/full/eview16/jpa_details.gif"
			id="org.eclipse.jpt.ui.jpaDetailsView"
			name="%jpaDetails"/>
		
	</extension>
	
<!-- =================================================================================== -->
<!-- Extension: Persistence Perspective                                                  -->
<!-- =================================================================================== -->
	
	<extension
		 point="org.eclipse.ui.perspectives">
		<perspective
        class="org.eclipse.jpt.ui.internal.perspective.JpaPerspectiveFactory"
        icon="icons/full/eview16/jpa_perspective.gif"
        id="org.eclipse.jpt.ui.jpaPerspective"
        name="%jpaPerspective"/>
	</extension>
	
	<extension
		point="org.eclipse.wst.common.project.facet.ui.images">
		
		<image facet="jpt.jpa" path="icons/full/etool16/jpa_facet.gif"/>
		
	</extension>
	
	
	<extension 
		point="org.eclipse.wst.common.project.facet.ui.wizardPages">
		
		<wizard-pages action="jpt.jpa.install">
			<page class="org.eclipse.jpt.ui.internal.wizards.JpaFacetWizardPage"/>
		</wizard-pages>
		
	</extension>
	
	<extension
		point="org.eclipse.jdt.ui.javaCompletionProposalComputer"
		id="Foo"
		name="JPA Proposals">
		<javaCompletionProposalComputer 
			class="org.eclipse.jpt.ui.internal.JpaCompletionProposalComputer"
			categoryId="org.eclipse.jdt.ui.javaTypeProposalCategory">
			<partition type="__dftl_partition_content_type"/>
			<partition type="__java_string"/>
		</javaCompletionProposalComputer>
	</extension>

</plugin>
